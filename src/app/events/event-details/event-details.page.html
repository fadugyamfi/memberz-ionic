<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tabs/pages/events"></ion-back-button>
    </ion-buttons>

    <ion-title>Event Details</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card class="shadow-none">
    @if (event?.photo) {
      <img [src]="event?.photo_url" />
    }

    <ion-card-header>
      <ion-card-title>{{ event?.event_name }}</ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <p [innerHtml]="event?.long_description"></p>
    </ion-card-content>
  </ion-card>


  <ion-list lines="full">
    <ion-list-header lines="full">
      <ion-label>
        <h5 class="fs-5">Sessions</h5>
        <p class="mb-2">Select session to record attendance</p>
      </ion-label>

      <ion-button color="primary">
        <ion-icon name="add-circle" class="me-2"></ion-icon>
        <ion-text>Add</ion-text>
      </ion-button>
    </ion-list-header>

    @for (session of event?.sessions; track session) {
      <ion-item detail="true" button (click)="setAttendanceSession(session)">
        <ion-label>{{ session.session_name }}</ion-label>
        <ion-badge slot="end">
          {{ session.attendees_count || 0 }}
        </ion-badge>
      </ion-item>
    }
  </ion-list>

</ion-content>
